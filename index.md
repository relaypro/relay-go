<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sdk

```go
import "command-line-arguments"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func AddWorkflow(workflowName string, fn func(api RelayApi))](<#func-addworkflow>)
- [func InitializeRelaySdk(port string)](<#func-initializerelaysdk>)
- [func convert(arr []interface{}) string](<#func-convert>)
- [func handleWs(w http.ResponseWriter, r *http.Request)](<#func-handlews>)
- [func makeId() string](<#func-makeid>)
- [func makeTargetMap(sourceUri string) map[string][]string](<#func-maketargetmap>)
- [func startWorkflow(wfInst *workflowInstance)](<#func-startworkflow>)
- [type ButtonEvent](<#type-buttonevent>)
- [type Call](<#type-call>)
- [type ClearTimerResponse](<#type-cleartimerresponse>)
- [type DeviceInfoQuery](<#type-deviceinfoquery>)
- [type DeviceMode](<#type-devicemode>)
- [type DevicePowerOffResponse](<#type-devicepoweroffresponse>)
- [type EndInteractionResponse](<#type-endinteractionresponse>)
- [type Event](<#type-event>)
  - [func parseMessage(msg []byte) (map[string]interface{}, Event, string)](<#func-parsemessage>)
- [type EventWrapper](<#type-eventwrapper>)
- [type GetDeviceInfoResponse](<#type-getdeviceinforesponse>)
- [type InteractionLifecycleEvent](<#type-interactionlifecycleevent>)
- [type LedColors](<#type-ledcolors>)
- [type LedEffect](<#type-ledeffect>)
- [type LedInfo](<#type-ledinfo>)
- [type PlayResponse](<#type-playresponse>)
- [type PromptEvent](<#type-promptevent>)
- [type RelayApi](<#type-relayapi>)
- [type SayResponse](<#type-sayresponse>)
- [type SetChannelResponse](<#type-setchannelresponse>)
- [type SetDeviceInfoResponse](<#type-setdeviceinforesponse>)
- [type SetDeviceInfoType](<#type-setdeviceinfotype>)
- [type SetDeviceModeResponse](<#type-setdevicemoderesponse>)
- [type SetLedResponse](<#type-setledresponse>)
- [type SetTimerResponse](<#type-settimerresponse>)
- [type SetUserProfileResponse](<#type-setuserprofileresponse>)
- [type StartEvent](<#type-startevent>)
- [type StartInteractionResponse](<#type-startinteractionresponse>)
- [type StopEvent](<#type-stopevent>)
- [type StopPlaybackResponse](<#type-stopplaybackresponse>)
- [type TimeoutType](<#type-timeouttype>)
- [type TimerFiredEvent](<#type-timerfiredevent>)
- [type TimerType](<#type-timertype>)
- [type Trigger](<#type-trigger>)
- [type TriggerArgs](<#type-triggerargs>)
- [type TriggerType](<#type-triggertype>)
- [type VibrateResponse](<#type-vibrateresponse>)
- [type clearTimerRequest](<#type-cleartimerrequest>)
- [type devicePowerOffRequest](<#type-devicepoweroffrequest>)
- [type endInteractionRequest](<#type-endinteractionrequest>)
- [type getDeviceInfoRequest](<#type-getdeviceinforequest>)
- [type playRequest](<#type-playrequest>)
- [type sayRequest](<#type-sayrequest>)
- [type setChannelRequest](<#type-setchannelrequest>)
- [type setDeviceInfoRequest](<#type-setdeviceinforequest>)
- [type setDeviceModeRequest](<#type-setdevicemoderequest>)
- [type setLedRequest](<#type-setledrequest>)
- [type setTimerRequest](<#type-settimerrequest>)
- [type setUserProfileRequest](<#type-setuserprofilerequest>)
- [type startInteractionRequest](<#type-startinteractionrequest>)
- [type stopPlaybackRequest](<#type-stopplaybackrequest>)
- [type terminateRequest](<#type-terminaterequest>)
- [type vibrateRequest](<#type-vibraterequest>)
- [type workflowInstance](<#type-workflowinstance>)
  - [func (wfInst *workflowInstance) Breathe(sourceUri string, color string) SetLedResponse](<#func-workflowinstance-breathe>)
  - [func (wfInst *workflowInstance) ClearTimer(name string) ClearTimerResponse](<#func-workflowinstance-cleartimer>)
  - [func (wfInst *workflowInstance) DisableLocation(sourceUri string) SetDeviceInfoResponse](<#func-workflowinstance-disablelocation>)
  - [func (wfInst *workflowInstance) EnableLocation(sourceUri string) SetDeviceInfoResponse](<#func-workflowinstance-enablelocation>)
  - [func (wfInst *workflowInstance) EndInteraction(sourceUri string, name string) EndInteractionResponse](<#func-workflowinstance-endinteraction>)
  - [func (wfInst *workflowInstance) Flash(sourceUri string, color string) SetLedResponse](<#func-workflowinstance-flash>)
  - [func (wfInst *workflowInstance) GetDeviceAddress(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceaddress>)
  - [func (wfInst *workflowInstance) GetDeviceBattery(sourceUri string, refresh bool) uint64](<#func-workflowinstance-getdevicebattery>)
  - [func (wfInst *workflowInstance) GetDeviceId(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceid>)
  - [func (wfInst *workflowInstance) GetDeviceIndoorLocation(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceindoorlocation>)
  - [func (wfInst *workflowInstance) GetDeviceLatLong(sourceUri string, refresh bool) []float64](<#func-workflowinstance-getdevicelatlong>)
  - [func (wfInst *workflowInstance) GetDeviceLocationEnabled(sourceUri string, refresh bool) bool](<#func-workflowinstance-getdevicelocationenabled>)
  - [func (wfInst *workflowInstance) GetDeviceName(sourceUri string, refresh bool) string](<#func-workflowinstance-getdevicename>)
  - [func (wfInst *workflowInstance) GetDeviceType(sourceUri string, refresh bool) string](<#func-workflowinstance-getdevicetype>)
  - [func (wfInst *workflowInstance) GetDeviceUsername(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceusername>)
  - [func (wfInst *workflowInstance) OnButton(fn func(buttonEvent ButtonEvent))](<#func-workflowinstance-onbutton>)
  - [func (wfInst *workflowInstance) OnInteractionLifecycle(fn func(interactionLifecycleEvent InteractionLifecycleEvent))](<#func-workflowinstance-oninteractionlifecycle>)
  - [func (wfInst *workflowInstance) OnPrompt(fn func(promptEvent PromptEvent))](<#func-workflowinstance-onprompt>)
  - [func (wfInst *workflowInstance) OnStart(fn func(startEvent StartEvent))](<#func-workflowinstance-onstart>)
  - [func (wfInst *workflowInstance) OnTimerFired(fn func(timerFiredEvent TimerFiredEvent))](<#func-workflowinstance-ontimerfired>)
  - [func (wfInst *workflowInstance) Play(sourceUri string, filename string) string](<#func-workflowinstance-play>)
  - [func (wfInst *workflowInstance) PowerDownDevice(sourceUri string) DevicePowerOffResponse](<#func-workflowinstance-powerdowndevice>)
  - [func (wfInst *workflowInstance) Rainbow(sourceUri string, rotations int64) SetLedResponse](<#func-workflowinstance-rainbow>)
  - [func (wfInst *workflowInstance) RestartDevice(sourceUri string) DevicePowerOffResponse](<#func-workflowinstance-restartdevice>)
  - [func (wfInst *workflowInstance) Rotate(sourceUri string, color string) SetLedResponse](<#func-workflowinstance-rotate>)
  - [func (wfInst *workflowInstance) Say(sourceUri string, text string, lang string) SayResponse](<#func-workflowinstance-say>)
  - [func (wfInst *workflowInstance) SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse](<#func-workflowinstance-setchannel>)
  - [func (wfInst *workflowInstance) SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse](<#func-workflowinstance-setdevicemode>)
  - [func (wfInst *workflowInstance) SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse](<#func-workflowinstance-setdevicename>)
  - [func (wfInst *workflowInstance) SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse](<#func-workflowinstance-setleds>)
  - [func (wfInst *workflowInstance) SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse](<#func-workflowinstance-settimer>)
  - [func (wfInst *workflowInstance) SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse](<#func-workflowinstance-setuserprofile>)
  - [func (wfInst *workflowInstance) StartInteraction(sourceUri string, name string) StartInteractionResponse](<#func-workflowinstance-startinteraction>)
  - [func (wfInst *workflowInstance) StopPlayback(sourceUri string, ids []string) StopPlaybackResponse](<#func-workflowinstance-stopplayback>)
  - [func (wfInst *workflowInstance) SwitchAllLedOff(sourceUri string) SetLedResponse](<#func-workflowinstance-switchallledoff>)
  - [func (wfInst *workflowInstance) SwitchAllLedOn(sourceUri string, color string) SetLedResponse](<#func-workflowinstance-switchallledon>)
  - [func (wfInst *workflowInstance) Terminate()](<#func-workflowinstance-terminate>)
  - [func (wfInst *workflowInstance) Vibrate(sourceUri string, pattern []uint64) VibrateResponse](<#func-workflowinstance-vibrate>)
  - [func (wfInst *workflowInstance) getDeviceInfo(sourceUri string, query DeviceInfoQuery, refresh bool) GetDeviceInfoResponse](<#func-workflowinstance-getdeviceinfo>)
  - [func (wfInst *workflowInstance) handleEvent(eventWrapper EventWrapper) error](<#func-workflowinstance-handleevent>)
  - [func (wfInst *workflowInstance) handleResponse(eventWrapper EventWrapper) error](<#func-workflowinstance-handleresponse>)
  - [func (wfInst *workflowInstance) receiveWs()](<#func-workflowinstance-receivews>)
  - [func (wfInst *workflowInstance) sendAndReceiveRequest(msg interface{}, id string) *Call](<#func-workflowinstance-sendandreceiverequest>)
  - [func (wfInst *workflowInstance) sendRequest(msg interface{})](<#func-workflowinstance-sendrequest>)
  - [func (wfInst *workflowInstance) setDeviceInfo(sourceUri string, field SetDeviceInfoType, value string) SetDeviceInfoResponse](<#func-workflowinstance-setdeviceinfo>)


## Constants

```go
const (
    ERROR                 Event = "error"
    START                       = "start"
    STOP                        = "stop"
    INTERACTION_LIFECYCLE       = "interaction_lifecycle"
    BUTTON                      = "button"
    TIMER                       = "timer"
    NOTIFICATION                = "notification"
    INCIDENT                    = "incident"
    PROMPT_START                = "prompt_start"
    PROMPT_STOP                 = "prompt_stop"
    CALL_RINGING                = "call_ringing"
    CALL_CONNECTED              = "call_connected"
    CALL_DISCONNECTED           = "call_disconnected"
    CALL_FAILED                 = "call_failed"
    CALL_RECEIVED               = "call_received"
    CALL_START_REQUEST          = "call_start_request"
)
```

```go
const (
    PHRASE_TRIGGER    = "phrase"
    BUTTON_TRIGGER    = "button"
    HTTP_TRIGGER      = "http"
    OTHER_TRIGGER     = "other"
    NFC_TRIGGER       = "nfc"
    CALENDAR_TRIGGER  = "calendar"
    GEOFENCE_TRIGGER  = "geofence"
    TELEPHONY_TRIGGER = "telephony"
)
```

```go
const (
    TIMEOUT_TIMER_TYPE  = "timeout"
    INTERVAL_TIMER_TYPE = "interval"
)
```

```go
const (
    MS_TIMEOUT_TYPE   = "ms"
    SECS_TIMEOUT_TYPE = "secs"
    MINS_TIMEOUT_TYPE = "mins"
    HRS_TIMEOUT_TYPE  = "hrs"
)
```

```go
const (
    LED_RAINBOW = "rainbow"
    LED_ROTATE  = "rotate"
    LED_FLASH   = "flash"
    LED_BREATHE = "breathe"
    LED_STATIC  = "static"
    LED_OFF     = "off"
)
```

```go
const (
    DEVICE_INFO_QUERY_NAME             = "name"
    DEVICE_INFO_QUERY_ID               = "id"
    DEVICE_INFO_QUERY_ADDRESS          = "address"
    DEVICE_INFO_QUERY_LATLONG          = "latlong"
    DEVICE_INFO_QUERY_INDOOR_LOCATION  = "indoor_location"
    DEVICE_INFO_QUERY_BATTERY          = "battery"
    DEVICE_INFO_QUERY_TYPE             = "type"
    DEVICE_INFO_QUERY_USERNAME         = "username"
    DEVICE_INFO_QUERY_LOCATION_ENABLED = "location_enabled"
)
```

```go
const (
    SET_DEVICE_INFO_LABEL = "label"
    //     SET_DEVICE_INFO_CHANNEL = "channel"
    SET_DEVICE_INFO_LOCATION_ENABLED = "location_enabled"
)
```

```go
const (
    DEVICE_MODE_PANIC = "panic"
    DEVICE_MODE_ALARM = "alarm"
    DEVICE_MODE_NONE  = "none"
)
```

## Variables

```go
var eventRegex = regexp.MustCompile(`^wf_api_(.+)_event$`)
```

```go
var responseRegex = regexp.MustCompile(`^wf_api_(.+)_response$`)
```

```go
var upgrader = websocket.Upgrader{
    ReadBufferSize:  1024,
    WriteBufferSize: 1024,
}
```

```go
var workflowMap map[string]func(api RelayApi) = make(map[string]func(api RelayApi))
```

## func AddWorkflow

```go
func AddWorkflow(workflowName string, fn func(api RelayApi))
```

## func InitializeRelaySdk

```go
func InitializeRelaySdk(port string)
```

this should return an interface that has a workflow\(\) function that they can pass their workflow implementations to

## func convert

```go
func convert(arr []interface{}) string
```

## func handleWs

```go
func handleWs(w http.ResponseWriter, r *http.Request)
```

## func makeId

```go
func makeId() string
```

## func makeTargetMap

```go
func makeTargetMap(sourceUri string) map[string][]string
```

## func startWorkflow

```go
func startWorkflow(wfInst *workflowInstance)
```

## type ButtonEvent

```go
type ButtonEvent struct {
    _type     string `json:"_type"`
    SourceUri string `json:"source_uri"`
    Button    string `json:"button"` // "action", "channel"
    Taps      string `json:"taps"`   // "single", "double", "triple", "long"
}
```

## type Call

Call represents an active request

```go
type Call struct {
    Req          interface{}
    Res          interface{}
    EventWrapper EventWrapper
    Done         chan bool
    Error        error
}
```

## type ClearTimerResponse

```go
type ClearTimerResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type DeviceInfoQuery

```go
type DeviceInfoQuery string
```

## type DeviceMode

```go
type DeviceMode string
```

## type DevicePowerOffResponse

```go
type DevicePowerOffResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type EndInteractionResponse

```go
type EndInteractionResponse struct {
    _type     string `json:"_type"`
    _id       string `json:"_id"`
    SourceUri string `json:"source_uri"`
}
```

## type Event

```go
type Event string
```

### func parseMessage

```go
func parseMessage(msg []byte) (map[string]interface{}, Event, string)
```

## type EventWrapper

```go
type EventWrapper struct {
    ParsedMsg map[string]interface{}
    Msg       []byte
    EventName Event
}
```

## type GetDeviceInfoResponse

```go
type GetDeviceInfoResponse struct {
    _type           string    `json:"_type"`
    _id             string    `json:"_id"`
    Name            string    `json:"name"`
    Id              string    `json:"id"`
    Address         string    `json:"address"`
    LatLong         []float64 `json:"latlong"`
    IndoorLocation  string    `json:"indoor_location"`
    Battery         uint64    `json:"battery"`
    Type            string    `json:"type"`
    Username        string    `json:"username"`
    LocationEnabled bool      `json:"location_enabled"`
}
```

## type InteractionLifecycleEvent

```go
type InteractionLifecycleEvent struct {
    _type         string `json:"_type"`
    SourceUri     string `json:"source_uri"`
    LifecycleType string `json:"type"` // started, resumed
}
```

## type LedColors

```go
type LedColors struct {
    Ring  string `json:"ring,omitempty"`
    Led1  string `json:"1,omitempty"`
    Led2  string `json:"2,omitempty"`
    Led3  string `json:"3,omitempty"`
    Led4  string `json:"4,omitempty"`
    Led5  string `json:"5,omitempty"`
    Led6  string `json:"6,omitempty"`
    Led7  string `json:"7,omitempty"`
    Led8  string `json:"8,omitempty"`
    Led9  string `json:"9,omitempty"`
    Led10 string `json:"10,omitempty"`
    Led11 string `json:"11,omitempty"`
    Led12 string `json:"12,omitempty"`
    Led13 string `json:"13,omitempty"`
    Led14 string `json:"14,omitempty"`
    Led15 string `json:"15,omitempty"`
    Led16 string `json:"16,omitempty"`
}
```

## type LedEffect

```go
type LedEffect string
```

## type LedInfo

```go
type LedInfo struct {
    Rotations      int64     `json:"rotations,omitempty"`
    Count          int64     `json:"count,omitempty"`
    Duration       uint64    `json:"duration,omitempty"`
    RepeatDelay    uint64    `json:"repeat_delay,omitempty"`
    PatternRepeats uint64    `json:"pattern_repeats,omitempty"`
    Colors         LedColors `json:"colors,omitempty"`
}
```

## type PlayResponse

```go
type PlayResponse struct {
    _type         string `json:"_type"`
    _id           string `json:"_id"`
    CorrelationId string `json:"id"`
}
```

## type PromptEvent

```go
type PromptEvent struct {
    _type      string `json:"_type"`
    SourceUri  string `json:"source_uri"`
    PromptType string `json:"type"` // started, stopped, resumed
}
```

## type RelayApi

```go
type RelayApi interface {
    // assigning callbacks
    OnStart(fn func(startEvent StartEvent))
    OnInteractionLifecycle(func(interactionLifecycleEvent InteractionLifecycleEvent))
    OnPrompt(func(promptEvent PromptEvent)) // seperate into start and stop?
    OnTimerFired(func(timerFiredEvent TimerFiredEvent))
    OnButton(func(buttonEvent ButtonEvent))

    // api
    StartInteraction(sourceUri string, name string) StartInteractionResponse
    EndInteraction(sourceUri string, name string) EndInteractionResponse
    SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse
    ClearTimer(name string) ClearTimerResponse
    Say(sourceUri string, text string, lang string) SayResponse
    Play(sourceUri string, filename string) string
    StopPlayback(sourceUri string, ids []string) StopPlaybackResponse
    SwitchAllLedOn(sourceUri string, color string) SetLedResponse
    SwitchAllLedOff(sourceUri string) SetLedResponse
    Rainbow(sourceUri string, rotations int64) SetLedResponse
    Rotate(sourceUri string, color string) SetLedResponse
    Flash(sourceUri string, color string) SetLedResponse
    Breathe(sourceUri string, color string) SetLedResponse
    SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse
    Vibrate(sourceUri string, pattern []uint64) VibrateResponse
    GetDeviceName(sourceUri string, refresh bool) string
    GetDeviceId(sourceUri string, refresh bool) string
    GetDeviceAddress(sourceUri string, refresh bool) string
    GetDeviceLatLong(sourceUri string, refresh bool) []float64
    GetDeviceIndoorLocation(sourceUri string, refresh bool) string
    GetDeviceBattery(sourceUri string, refresh bool) uint64
    GetDeviceType(sourceUri string, refresh bool) string
    GetDeviceUsername(sourceUri string, refresh bool) string
    GetDeviceLocationEnabled(sourceUri string, refresh bool) bool
    SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse
    //     SetDeviceChannel(sourceUri string, channel string) SetDeviceInfoResponse
    EnableLocation(sourceUri string) SetDeviceInfoResponse
    DisableLocation(sourceUri string) SetDeviceInfoResponse
    SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse
    SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse

    SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse

    RestartDevice(sourceUri string) DevicePowerOffResponse
    PowerDownDevice(sourceUri string) DevicePowerOffResponse
    Terminate()
}
```

## type SayResponse

```go
type SayResponse struct {
    _type         string `json:"_type"`
    _id           string `json:"_id"`
    CorrelationId string `json:"id"`
}
```

## type SetChannelResponse

```go
type SetChannelResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetDeviceInfoResponse

```go
type SetDeviceInfoResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetDeviceInfoType

```go
type SetDeviceInfoType string
```

## type SetDeviceModeResponse

```go
type SetDeviceModeResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetLedResponse

```go
type SetLedResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetTimerResponse

```go
type SetTimerResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetUserProfileResponse

```go
type SetUserProfileResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type StartEvent

```go
type StartEvent struct {
    _type   string `json:"_type"`
    Trigger Trigger
}
```

## type StartInteractionResponse

```go
type StartInteractionResponse struct {
    _type     string `json:"_type"`
    _id       string `json:"_id"`
    SourceUri string `json:"source_uri"`
}
```

## type StopEvent

```go
type StopEvent struct {
    _type  string `json:"_type"`
    Reason string `json:"reason"`
}
```

## type StopPlaybackResponse

```go
type StopPlaybackResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type TimeoutType

```go
type TimeoutType string
```

## type TimerFiredEvent

```go
type TimerFiredEvent struct {
    _type string `json:"_type"`
    Name  string `json:"name"`
}
```

## type TimerType

```go
type TimerType string
```

## type Trigger

```go
type Trigger struct {
    Type TriggerType
    Args TriggerArgs
}
```

## type TriggerArgs

```go
type TriggerArgs struct {
    // TODO remove these when ibot serialization is fixed
    UnparsedPhrase    []interface{} `json:"phrase"`
    UnparsedSourceUri []interface{} `json:"source_uri"`
    Phrase            string
    SourceUri         string
}
```

## type TriggerType

```go
type TriggerType string
```

## type VibrateResponse

```go
type VibrateResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type clearTimerRequest

```go
type clearTimerRequest struct {
    Type string `json:"_type"`
    Id   string `json:"_id"`
    Name string `json:"name"`
}
```

## type devicePowerOffRequest

```go
type devicePowerOffRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Restart bool                `json:"restart"`
}
```

## type endInteractionRequest

```go
type endInteractionRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Targets map[string][]string `json:"_target"`
    Name    string              `json:"name"`
}
```

## type getDeviceInfoRequest

```go
type getDeviceInfoRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Query   DeviceInfoQuery     `json:"query"`
    Refresh bool                `json:"refresh"`
}
```

## type playRequest

```go
type playRequest struct {
    Type     string              `json:"_type"`
    Id       string              `json:"_id"`
    Target   map[string][]string `json:"_target"`
    Filename string              `json:"filename"`
}
```

## type sayRequest

```go
type sayRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Text   string              `json:"text"`
    Lang   string              `json:"lang"`
}
```

## type setChannelRequest

```go
type setChannelRequest struct {
    Type               string              `json:"_type"`
    Id                 string              `json:"_id"`
    Target             map[string][]string `json:"_target"`
    ChannelName        string              `json:"channel_name"`
    SuppressTTS        bool                `json:"suppress_tts"`
    DisableHomeChannel bool                `json:"disable_home_channel"`
}
```

## type setDeviceInfoRequest

```go
type setDeviceInfoRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Field  SetDeviceInfoType   `json:"field"`
    Value  string              `json:"value"`
}
```

## type setDeviceModeRequest

```go
type setDeviceModeRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Mode   DeviceMode          `json:"mode"`
}
```

## type setLedRequest

```go
type setLedRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Effect LedEffect           `json:"effect"`
    Args   LedInfo             `json:"args"`
}
```

## type setTimerRequest

```go
type setTimerRequest struct {
    Type        string      `json:"_type"`
    Id          string      `json:"_id"`
    TimerType   TimerType   `json:"type"`
    Name        string      `json:"name"`
    Timeout     uint64      `json:"timeout"`
    TimeoutType TimeoutType `json:"timeout_type"`
}
```

## type setUserProfileRequest

```go
type setUserProfileRequest struct {
    Type     string              `json:"_type"`
    Id       string              `json:"_id"`
    Target   map[string][]string `json:"_target"`
    Username string              `json:"username"`
    Force    bool                `json:"force"`
}
```

## type startInteractionRequest

```go
type startInteractionRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Targets map[string][]string `json:"_target"`
    Name    string              `json:"name"`
}
```

## type stopPlaybackRequest

```go
type stopPlaybackRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Ids    []string            `json:"ids"`
}
```

## type terminateRequest

```go
type terminateRequest struct {
    Type string `json:"_type"`
    Id   string `json:"_id"`
}
```

## type vibrateRequest

```go
type vibrateRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Pattern []uint64            `json:"pattern"`
}
```

## type workflowInstance

This struct implements RelayApi below

```go
type workflowInstance struct {
    WebsocketConnection *websocket.Conn
    Mutex               sync.Mutex       // no initialization, zero value is unlocked mutex. this must not be copied, always pass workflowInstance by pointer
    Pending             map[string]*Call // map of request ids to the call struct for response pairing
    WorkflowFn          func(api RelayApi)

    EventChannel chan EventWrapper
    StopReason   string

    // stores callback functions for each event type
    OnStartHandler                func(startEvent StartEvent)
    OnInteractionLifecycleHandler func(interactionLifecycleEvent InteractionLifecycleEvent)
    OnPromptHandler               func(promptEvent PromptEvent)
    OnButtonHandler               func(buttonEvent ButtonEvent)
    OnTimerFiredHandler           func(timerFiredEvent TimerFiredEvent)
}
```

### func \(\*workflowInstance\) Breathe

```go
func (wfInst *workflowInstance) Breathe(sourceUri string, color string) SetLedResponse
```

### func \(\*workflowInstance\) ClearTimer

```go
func (wfInst *workflowInstance) ClearTimer(name string) ClearTimerResponse
```

### func \(\*workflowInstance\) DisableLocation

```go
func (wfInst *workflowInstance) DisableLocation(sourceUri string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) EnableLocation

```go
func (wfInst *workflowInstance) EnableLocation(sourceUri string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) EndInteraction

```go
func (wfInst *workflowInstance) EndInteraction(sourceUri string, name string) EndInteractionResponse
```

### func \(\*workflowInstance\) Flash

```go
func (wfInst *workflowInstance) Flash(sourceUri string, color string) SetLedResponse
```

### func \(\*workflowInstance\) GetDeviceAddress

```go
func (wfInst *workflowInstance) GetDeviceAddress(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceBattery

```go
func (wfInst *workflowInstance) GetDeviceBattery(sourceUri string, refresh bool) uint64
```

### func \(\*workflowInstance\) GetDeviceId

```go
func (wfInst *workflowInstance) GetDeviceId(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceIndoorLocation

```go
func (wfInst *workflowInstance) GetDeviceIndoorLocation(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceLatLong

```go
func (wfInst *workflowInstance) GetDeviceLatLong(sourceUri string, refresh bool) []float64
```

### func \(\*workflowInstance\) GetDeviceLocationEnabled

```go
func (wfInst *workflowInstance) GetDeviceLocationEnabled(sourceUri string, refresh bool) bool
```

### func \(\*workflowInstance\) GetDeviceName

```go
func (wfInst *workflowInstance) GetDeviceName(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceType

```go
func (wfInst *workflowInstance) GetDeviceType(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceUsername

```go
func (wfInst *workflowInstance) GetDeviceUsername(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) OnButton

```go
func (wfInst *workflowInstance) OnButton(fn func(buttonEvent ButtonEvent))
```

### func \(\*workflowInstance\) OnInteractionLifecycle

```go
func (wfInst *workflowInstance) OnInteractionLifecycle(fn func(interactionLifecycleEvent InteractionLifecycleEvent))
```

### func \(\*workflowInstance\) OnPrompt

```go
func (wfInst *workflowInstance) OnPrompt(fn func(promptEvent PromptEvent))
```

### func \(\*workflowInstance\) OnStart

```go
func (wfInst *workflowInstance) OnStart(fn func(startEvent StartEvent))
```

### func \(\*workflowInstance\) OnTimerFired

```go
func (wfInst *workflowInstance) OnTimerFired(fn func(timerFiredEvent TimerFiredEvent))
```

### func \(\*workflowInstance\) Play

```go
func (wfInst *workflowInstance) Play(sourceUri string, filename string) string
```

### func \(\*workflowInstance\) PowerDownDevice

```go
func (wfInst *workflowInstance) PowerDownDevice(sourceUri string) DevicePowerOffResponse
```

### func \(\*workflowInstance\) Rainbow

```go
func (wfInst *workflowInstance) Rainbow(sourceUri string, rotations int64) SetLedResponse
```

### func \(\*workflowInstance\) RestartDevice

```go
func (wfInst *workflowInstance) RestartDevice(sourceUri string) DevicePowerOffResponse
```

### func \(\*workflowInstance\) Rotate

```go
func (wfInst *workflowInstance) Rotate(sourceUri string, color string) SetLedResponse
```

### func \(\*workflowInstance\) Say

```go
func (wfInst *workflowInstance) Say(sourceUri string, text string, lang string) SayResponse
```

### func \(\*workflowInstance\) SetChannel

```go
func (wfInst *workflowInstance) SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse
```

### func \(\*workflowInstance\) SetDeviceMode

```go
func (wfInst *workflowInstance) SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse
```

### func \(\*workflowInstance\) SetDeviceName

```go
func (wfInst *workflowInstance) SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) SetLeds

```go
func (wfInst *workflowInstance) SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse
```

### func \(\*workflowInstance\) SetTimer

```go
func (wfInst *workflowInstance) SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse
```

### func \(\*workflowInstance\) SetUserProfile

```go
func (wfInst *workflowInstance) SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse
```

### func \(\*workflowInstance\) StartInteraction

```go
func (wfInst *workflowInstance) StartInteraction(sourceUri string, name string) StartInteractionResponse
```

### func \(\*workflowInstance\) StopPlayback

```go
func (wfInst *workflowInstance) StopPlayback(sourceUri string, ids []string) StopPlaybackResponse
```

### func \(\*workflowInstance\) SwitchAllLedOff

```go
func (wfInst *workflowInstance) SwitchAllLedOff(sourceUri string) SetLedResponse
```

### func \(\*workflowInstance\) SwitchAllLedOn

```go
func (wfInst *workflowInstance) SwitchAllLedOn(sourceUri string, color string) SetLedResponse
```

### func \(\*workflowInstance\) Terminate

```go
func (wfInst *workflowInstance) Terminate()
```

### func \(\*workflowInstance\) Vibrate

```go
func (wfInst *workflowInstance) Vibrate(sourceUri string, pattern []uint64) VibrateResponse
```

### func \(\*workflowInstance\) getDeviceInfo

```go
func (wfInst *workflowInstance) getDeviceInfo(sourceUri string, query DeviceInfoQuery, refresh bool) GetDeviceInfoResponse
```

### func \(\*workflowInstance\) handleEvent

```go
func (wfInst *workflowInstance) handleEvent(eventWrapper EventWrapper) error
```

### func \(\*workflowInstance\) handleResponse

```go
func (wfInst *workflowInstance) handleResponse(eventWrapper EventWrapper) error
```

### func \(\*workflowInstance\) receiveWs

```go
func (wfInst *workflowInstance) receiveWs()
```

### func \(\*workflowInstance\) sendAndReceiveRequest

```go
func (wfInst *workflowInstance) sendAndReceiveRequest(msg interface{}, id string) *Call
```

### func \(\*workflowInstance\) sendRequest

```go
func (wfInst *workflowInstance) sendRequest(msg interface{})
```

### func \(\*workflowInstance\) setDeviceInfo

```go
func (wfInst *workflowInstance) setDeviceInfo(sourceUri string, field SetDeviceInfoType, value string) SetDeviceInfoResponse
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
