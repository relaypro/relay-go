<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# sdk

```go
import "command-line-arguments"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func AddWorkflow(workflowName string, fn func(api RelayApi))](<#func-addworkflow>)
- [func DeviceId(id string) string](<#func-deviceid>)
- [func DeviceName(name string) string](<#func-devicename>)
- [func GroupId(id string) string](<#func-groupid>)
- [func GroupMember(group string, device string) string](<#func-groupmember>)
- [func GroupName(name string) string](<#func-groupname>)
- [func InitializeRelaySdk(port string)](<#func-initializerelaysdk>)
- [func IsInteractionUri(uri string) bool](<#func-isinteractionuri>)
- [func IsRelayUri(uri string) bool](<#func-isrelayuri>)
- [func ParseDeviceId(uri string) string](<#func-parsedeviceid>)
- [func ParseDeviceName(uri string) string](<#func-parsedevicename>)
- [func ParseGroupId(uri string) string](<#func-parsegroupid>)
- [func ParseGroupName(uri string) string](<#func-parsegroupname>)
- [func construct(resourceType string, idtype string, idOrName string) string](<#func-construct>)
- [func convert(arr []interface{}) string](<#func-convert>)
- [func handleWs(w http.ResponseWriter, r *http.Request)](<#func-handlews>)
- [func makeId() string](<#func-makeid>)
- [func makeTargetMap(sourceUri string) map[string][]string](<#func-maketargetmap>)
- [func parseMessage(msg []byte) (map[string]interface{}, Event, string)](<#func-parsemessage>)
- [func startWorkflow(wfInst *workflowInstance, workflowName string)](<#func-startworkflow>)
- [type AnswerResponse](<#type-answerresponse>)
- [type ButtonEvent](<#type-buttonevent>)
- [type Call](<#type-call>)
- [type ClearTimerResponse](<#type-cleartimerresponse>)
- [type CreateIncidentResponse](<#type-createincidentresponse>)
- [type DeviceInfoQuery](<#type-deviceinfoquery>)
- [type DeviceMode](<#type-devicemode>)
- [type DevicePowerOffResponse](<#type-devicepoweroffresponse>)
- [type EndInteractionResponse](<#type-endinteractionresponse>)
- [type Event](<#type-event>)
- [type EventWrapper](<#type-eventwrapper>)
- [type GetDeviceInfoResponse](<#type-getdeviceinforesponse>)
- [type GetVarResponse](<#type-getvarresponse>)
- [type GroupQueryResponse](<#type-groupqueryresponse>)
- [type HangupCallResponse](<#type-hangupcallresponse>)
- [type InboxCountResponse](<#type-inboxcountresponse>)
- [type InteractionLifecycleEvent](<#type-interactionlifecycleevent>)
- [type Language](<#type-language>)
- [type LedColors](<#type-ledcolors>)
  - [func setLedColors(index string, color string) LedColors](<#func-setledcolors>)
- [type LedEffect](<#type-ledeffect>)
- [type LedInfo](<#type-ledinfo>)
- [type ListenResponse](<#type-listenresponse>)
- [type LogAnalyticsEventResponse](<#type-loganalyticseventresponse>)
- [type MessageType](<#type-messagetype>)
- [type NotificationOptions](<#type-notificationoptions>)
- [type NotificationPriority](<#type-notificationpriority>)
- [type NotificationSound](<#type-notificationsound>)
- [type PlaceCallResponse](<#type-placecallresponse>)
- [type PlayInboxMessagesResponse](<#type-playinboxmessagesresponse>)
- [type PlayResponse](<#type-playresponse>)
- [type PromptEvent](<#type-promptevent>)
- [type RelayApi](<#type-relayapi>)
- [type ResolveIncidentResponse](<#type-resolveincidentresponse>)
- [type SayResponse](<#type-sayresponse>)
- [type SendNotificationResponse](<#type-sendnotificationresponse>)
- [type SetChannelResponse](<#type-setchannelresponse>)
- [type SetDeviceInfoResponse](<#type-setdeviceinforesponse>)
- [type SetDeviceInfoType](<#type-setdeviceinfotype>)
- [type SetDeviceModeResponse](<#type-setdevicemoderesponse>)
- [type SetHomeChannelStateResponse](<#type-sethomechannelstateresponse>)
- [type SetLedResponse](<#type-setledresponse>)
- [type SetTimerResponse](<#type-settimerresponse>)
- [type SetUserProfileResponse](<#type-setuserprofileresponse>)
- [type SetVarResponse](<#type-setvarresponse>)
- [type SpeechEvent](<#type-speechevent>)
- [type StartEvent](<#type-startevent>)
- [type StartInteractionResponse](<#type-startinteractionresponse>)
- [type StartTimerResponse](<#type-starttimerresponse>)
- [type StopEvent](<#type-stopevent>)
- [type StopPlaybackResponse](<#type-stopplaybackresponse>)
- [type StopTimerResponse](<#type-stoptimerresponse>)
- [type TimeoutType](<#type-timeouttype>)
- [type TimerEvent](<#type-timerevent>)
- [type TimerFiredEvent](<#type-timerfiredevent>)
- [type TimerType](<#type-timertype>)
- [type TranslateResponse](<#type-translateresponse>)
- [type Trigger](<#type-trigger>)
- [type TriggerArgs](<#type-triggerargs>)
- [type TriggerType](<#type-triggertype>)
- [type UnsetVarResponse](<#type-unsetvarresponse>)
- [type VibrateResponse](<#type-vibrateresponse>)
- [type answerRequest](<#type-answerrequest>)
- [type clearTimerRequest](<#type-cleartimerrequest>)
- [type createIncidentRequest](<#type-createincidentrequest>)
- [type devicePowerOffRequest](<#type-devicepoweroffrequest>)
- [type endInteractionRequest](<#type-endinteractionrequest>)
- [type getDeviceInfoRequest](<#type-getdeviceinforequest>)
- [type getVarRequest](<#type-getvarrequest>)
- [type groupQueryRequest](<#type-groupqueryrequest>)
- [type hangupCallRequest](<#type-hangupcallrequest>)
- [type inboxCountRequest](<#type-inboxcountrequest>)
- [type listenRequest](<#type-listenrequest>)
- [type logAnalyticsEventRequest](<#type-loganalyticseventrequest>)
- [type placeCallRequest](<#type-placecallrequest>)
- [type playInboxMessagesRequest](<#type-playinboxmessagesrequest>)
- [type playRequest](<#type-playrequest>)
- [type resolveIncidentRequest](<#type-resolveincidentrequest>)
- [type sayRequest](<#type-sayrequest>)
- [type sendNotificationRequest](<#type-sendnotificationrequest>)
- [type setChannelRequest](<#type-setchannelrequest>)
- [type setDeviceInfoRequest](<#type-setdeviceinforequest>)
- [type setDeviceModeRequest](<#type-setdevicemoderequest>)
- [type setHomeChannelStateRequest](<#type-sethomechannelstaterequest>)
- [type setLedRequest](<#type-setledrequest>)
- [type setTimerRequest](<#type-settimerrequest>)
- [type setUserProfileRequest](<#type-setuserprofilerequest>)
- [type setVarRequest](<#type-setvarrequest>)
- [type startInteractionRequest](<#type-startinteractionrequest>)
- [type startTimerRequest](<#type-starttimerrequest>)
- [type stopPlaybackRequest](<#type-stopplaybackrequest>)
- [type stopTimerRequest](<#type-stoptimerrequest>)
- [type terminateRequest](<#type-terminaterequest>)
- [type translateRequest](<#type-translaterequest>)
- [type unsetVarRequest](<#type-unsetvarrequest>)
- [type vibrateRequest](<#type-vibraterequest>)
- [type workflowInstance](<#type-workflowinstance>)
  - [func (wfInst *workflowInstance) Alert(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse](<#func-workflowinstance-alert>)
  - [func (wfInst *workflowInstance) AnswerCall(sourceUri string, callId string) AnswerResponse](<#func-workflowinstance-answercall>)
  - [func (wfInst *workflowInstance) Breathe(sourceUri string, color string, count int64) SetLedResponse](<#func-workflowinstance-breathe>)
  - [func (wfInst *workflowInstance) Broadcast(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse](<#func-workflowinstance-broadcast>)
  - [func (wfInst *workflowInstance) CancelAlert(target string, name string) SendNotificationResponse](<#func-workflowinstance-cancelalert>)
  - [func (wfInst *workflowInstance) CancelBroadcast(target string, name string) SendNotificationResponse](<#func-workflowinstance-cancelbroadcast>)
  - [func (wfInst *workflowInstance) ClearTimer(name string) ClearTimerResponse](<#func-workflowinstance-cleartimer>)
  - [func (wfInst *workflowInstance) CreateIncident(originator string, itype string) CreateIncidentResponse](<#func-workflowinstance-createincident>)
  - [func (wfInst *workflowInstance) DisableHomeChannel(sourceUri string) SetHomeChannelStateResponse](<#func-workflowinstance-disablehomechannel>)
  - [func (wfInst *workflowInstance) DisableLocation(sourceUri string) SetDeviceInfoResponse](<#func-workflowinstance-disablelocation>)
  - [func (wfInst *workflowInstance) EnableHomeChannel(sourceUri string) SetHomeChannelStateResponse](<#func-workflowinstance-enablehomechannel>)
  - [func (wfInst *workflowInstance) EnableLocation(sourceUri string) SetDeviceInfoResponse](<#func-workflowinstance-enablelocation>)
  - [func (wfInst *workflowInstance) EndInteraction(sourceUri string, name string) EndInteractionResponse](<#func-workflowinstance-endinteraction>)
  - [func (wfInst *workflowInstance) FetchDevice(accessToken string, refreshToken string, clientId string, subscriberId string, userId string) map[string]string](<#func-workflowinstance-fetchdevice>)
  - [func (wfInst *workflowInstance) Flash(sourceUri string, color string, count int64) SetLedResponse](<#func-workflowinstance-flash>)
  - [func (wfInst *workflowInstance) GetDeviceAddress(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceaddress>)
  - [func (wfInst *workflowInstance) GetDeviceBattery(sourceUri string, refresh bool) uint64](<#func-workflowinstance-getdevicebattery>)
  - [func (wfInst *workflowInstance) GetDeviceCoordinates(sourceUri string, refresh bool) []float64](<#func-workflowinstance-getdevicecoordinates>)
  - [func (wfInst *workflowInstance) GetDeviceId(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceid>)
  - [func (wfInst *workflowInstance) GetDeviceIndoorLocation(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceindoorlocation>)
  - [func (wfInst *workflowInstance) GetDeviceLatLong(sourceUri string, refresh bool) []float64](<#func-workflowinstance-getdevicelatlong>)
  - [func (wfInst *workflowInstance) GetDeviceLocation(sourceUri string, refresh bool) string](<#func-workflowinstance-getdevicelocation>)
  - [func (wfInst *workflowInstance) GetDeviceLocationEnabled(sourceUri string, refresh bool) bool](<#func-workflowinstance-getdevicelocationenabled>)
  - [func (wfInst *workflowInstance) GetDeviceName(sourceUri string, refresh bool) string](<#func-workflowinstance-getdevicename>)
  - [func (wfInst *workflowInstance) GetDeviceType(sourceUri string, refresh bool) string](<#func-workflowinstance-getdevicetype>)
  - [func (wfInst *workflowInstance) GetDeviceUsername(sourceUri string, refresh bool) string](<#func-workflowinstance-getdeviceusername>)
  - [func (wfInst *workflowInstance) GetGroupMembers(groupUri string) []string](<#func-workflowinstance-getgroupmembers>)
  - [func (wfInst *workflowInstance) GetNumberVar(name string, defaultValue int) int](<#func-workflowinstance-getnumbervar>)
  - [func (wfInst *workflowInstance) GetSourceUri(startEvent StartEvent) string](<#func-workflowinstance-getsourceuri>)
  - [func (wfInst *workflowInstance) GetUnreadInboxSize(sourceUri string) int](<#func-workflowinstance-getunreadinboxsize>)
  - [func (wfInst *workflowInstance) GetVar(name string, defaultValue string) string](<#func-workflowinstance-getvar>)
  - [func (wfInst *workflowInstance) HangupCall(targetUri string, callId string) HangupCallResponse](<#func-workflowinstance-hangupcall>)
  - [func (wfInst *workflowInstance) IsGroupMember(groupNameUri string, potentialMemberUri string) bool](<#func-workflowinstance-isgroupmember>)
  - [func (wfInst *workflowInstance) Listen(sourceUri string, phrases []string, transcribe bool, alt_lang string, timeout int) string](<#func-workflowinstance-listen>)
  - [func (wfInst *workflowInstance) LogMessage(message string, category string) LogAnalyticsEventResponse](<#func-workflowinstance-logmessage>)
  - [func (wfInst *workflowInstance) LogUserMessage(message string, sourceUri string, category string) LogAnalyticsEventResponse](<#func-workflowinstance-logusermessage>)
  - [func (wfInst *workflowInstance) OnButton(fn func(buttonEvent ButtonEvent))](<#func-workflowinstance-onbutton>)
  - [func (wfInst *workflowInstance) OnInteractionLifecycle(fn func(interactionLifecycleEvent InteractionLifecycleEvent))](<#func-workflowinstance-oninteractionlifecycle>)
  - [func (wfInst *workflowInstance) OnPrompt(fn func(promptEvent PromptEvent))](<#func-workflowinstance-onprompt>)
  - [func (wfInst *workflowInstance) OnSpeech(fn func(speechEvent SpeechEvent))](<#func-workflowinstance-onspeech>)
  - [func (wfInst *workflowInstance) OnStart(fn func(startEvent StartEvent))](<#func-workflowinstance-onstart>)
  - [func (wfInst *workflowInstance) OnTimer(fn func(timerEvent TimerEvent))](<#func-workflowinstance-ontimer>)
  - [func (wfInst *workflowInstance) OnTimerFired(fn func(timerFiredEvent TimerFiredEvent))](<#func-workflowinstance-ontimerfired>)
  - [func (wfInst *workflowInstance) PlaceCall(targetUri string, uri string) PlaceCallResponse](<#func-workflowinstance-placecall>)
  - [func (wfInst *workflowInstance) Play(sourceUri string, filename string) string](<#func-workflowinstance-play>)
  - [func (wfInst *workflowInstance) PlayAndWait(sourceUri string, filename string) string](<#func-workflowinstance-playandwait>)
  - [func (wfInst *workflowInstance) PlayUnreadInboxMessages(sourceUri string) PlayInboxMessagesResponse](<#func-workflowinstance-playunreadinboxmessages>)
  - [func (wfInst *workflowInstance) Rainbow(sourceUri string, rotations int64) SetLedResponse](<#func-workflowinstance-rainbow>)
  - [func (wfInst *workflowInstance) ResolveIncident(incidentId string, reason string) ResolveIncidentResponse](<#func-workflowinstance-resolveincident>)
  - [func (wfInst *workflowInstance) Rotate(sourceUri string, color string, rotations int64) SetLedResponse](<#func-workflowinstance-rotate>)
  - [func (wfInst *workflowInstance) Say(sourceUri string, text string, lang Language) SayResponse](<#func-workflowinstance-say>)
  - [func (wfInst *workflowInstance) SayAndWait(sourceUri string, text string, lang Language) SayResponse](<#func-workflowinstance-sayandwait>)
  - [func (wfInst *workflowInstance) SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse](<#func-workflowinstance-setchannel>)
  - [func (wfInst *workflowInstance) SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse](<#func-workflowinstance-setdevicemode>)
  - [func (wfInst *workflowInstance) SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse](<#func-workflowinstance-setdevicename>)
  - [func (wfInst *workflowInstance) SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse](<#func-workflowinstance-setleds>)
  - [func (wfInst *workflowInstance) SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse](<#func-workflowinstance-settimer>)
  - [func (wfInst *workflowInstance) SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse](<#func-workflowinstance-setuserprofile>)
  - [func (wfInst *workflowInstance) SetVar(name string, value string) SetVarResponse](<#func-workflowinstance-setvar>)
  - [func (wfInst *workflowInstance) StartInteraction(sourceUri string, name string) StartInteractionResponse](<#func-workflowinstance-startinteraction>)
  - [func (wfInst *workflowInstance) StartTimer(timeout int) StartTimerResponse](<#func-workflowinstance-starttimer>)
  - [func (wfInst *workflowInstance) StopPlayback(sourceUri string, ids []string) StopPlaybackResponse](<#func-workflowinstance-stopplayback>)
  - [func (wfInst *workflowInstance) StopTimer() StopTimerResponse](<#func-workflowinstance-stoptimer>)
  - [func (wfInst *workflowInstance) SwitchAllLedOff(sourceUri string) SetLedResponse](<#func-workflowinstance-switchallledoff>)
  - [func (wfInst *workflowInstance) SwitchAllLedOn(sourceUri string, color string) SetLedResponse](<#func-workflowinstance-switchallledon>)
  - [func (wfInst *workflowInstance) SwitchLedOn(sourceUri string, led int, color string) SetLedResponse](<#func-workflowinstance-switchledon>)
  - [func (wfInst *workflowInstance) Terminate()](<#func-workflowinstance-terminate>)
  - [func (wfInst *workflowInstance) Translate(sourceUri string, text string, from Language, to Language) string](<#func-workflowinstance-translate>)
  - [func (wfInst *workflowInstance) TriggerWorkflow(accessToken string, refreshToken string, clientId string, workflowId string, subscriberId string, userId string, targets []string, actionArgs map[string]string) map[string]string](<#func-workflowinstance-triggerworkflow>)
  - [func (wfInst *workflowInstance) UnsetVar(name string) UnsetVarResponse](<#func-workflowinstance-unsetvar>)
  - [func (wfInst *workflowInstance) Vibrate(sourceUri string, pattern []uint64) VibrateResponse](<#func-workflowinstance-vibrate>)
  - [func (wfInst *workflowInstance) getDeviceInfo(sourceUri string, query DeviceInfoQuery, refresh bool) GetDeviceInfoResponse](<#func-workflowinstance-getdeviceinfo>)
  - [func (wfInst *workflowInstance) handleEvent(eventWrapper EventWrapper) error](<#func-workflowinstance-handleevent>)
  - [func (wfInst *workflowInstance) handleResponse(eventWrapper EventWrapper) error](<#func-workflowinstance-handleresponse>)
  - [func (wfInst *workflowInstance) receiveWs()](<#func-workflowinstance-receivews>)
  - [func (wfInst *workflowInstance) sendAndReceiveRequest(msg interface{}, id string) *Call](<#func-workflowinstance-sendandreceiverequest>)
  - [func (wfInst *workflowInstance) sendAndReceiveRequestWait(msg interface{}, id string) *Call](<#func-workflowinstance-sendandreceiverequestwait>)
  - [func (wfInst *workflowInstance) sendNotification(target string, originator string, itype string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse](<#func-workflowinstance-sendnotification>)
  - [func (wfInst *workflowInstance) sendRequest(msg interface{})](<#func-workflowinstance-sendrequest>)
  - [func (wfInst *workflowInstance) setDeviceInfo(sourceUri string, field SetDeviceInfoType, value string) SetDeviceInfoResponse](<#func-workflowinstance-setdeviceinfo>)
  - [func (wfInst *workflowInstance) setHomeChannelState(sourceUri string, enabled bool) SetHomeChannelStateResponse](<#func-workflowinstance-sethomechannelstate>)
  - [func (wfInst *workflowInstance) updateAccessToken(refreshToken string, clientId string) string](<#func-workflowinstance-updateaccesstoken>)


## Constants

```go
const (
    ERROR                 Event = "error"
    START                       = "start"
    STOP                        = "stop"
    INTERACTION_LIFECYCLE       = "interaction_lifecycle"
    BUTTON                      = "button"
    TIMER                       = "timer"
    SPEECH                      = "speech"
    NOTIFICATION                = "notification"
    INCIDENT                    = "incident"
    PROMPT                      = "prompt"
    PROMPT_START                = "prompt_start"
    PROMPT_STOP                 = "prompt_stop"
    CALL_RINGING                = "call_ringing"
    CALL_CONNECTED              = "call_connected"
    CALL_DISCONNECTED           = "call_disconnected"
    CALL_FAILED                 = "call_failed"
    CALL_RECEIVED               = "call_received"
    CALL_START_REQUEST          = "call_start_request"
    TIMER_FIRED                 = "timer_fired"
)
```

```go
const (
    PHRASE_TRIGGER    = "phrase"
    BUTTON_TRIGGER    = "button"
    HTTP_TRIGGER      = "http"
    OTHER_TRIGGER     = "other"
    NFC_TRIGGER       = "nfc"
    CALENDAR_TRIGGER  = "calendar"
    GEOFENCE_TRIGGER  = "geofence"
    TELEPHONY_TRIGGER = "telephony"
)
```

```go
const (
    EVENT    = "event"
    RESPONSE = "response"
)
```

```go
const (
    ENGLISH    = `en-US`
    GERMAN     = `de-DE`
    SPANISH    = `es-ES`
    FRENCH     = `fr-FR`
    ITALIAN    = `it-IT`
    RUSSIAN    = `ru-RU`
    SWEDISH    = `sv-SE`
    TURKISH    = `tr-TR`
    HINDI      = `hi-IN`
    ICELANDIC  = `is-IS`
    JAPANESE   = `ja-JP`
    KOREAN     = `ko-KR`
    POLISH     = `pl-PK`
    PORTUGUESE = `pt-BR`
    NORWEGIAN  = `nb-NO`
    DUTCH      = `nl-NL`
    CHINESE    = `zh`
    ARABIC     = `ar`
    VIETNAMESE = `vi-VN`
    INDONESIAN = `id-ID`
    FILIPINO   = `fil-PH`
    DANISH     = `da-DK`
    CZECH      = `cs-CZ`
    GUJURATI   = `gu-IN`
    HUNGARIAN  = `hu-HU`
    TAMIL      = `ta-IN`
    UKRANIAN   = `uk-UA`
    SLOVAK     = `sk-SK`
    ROMANIAN   = `ro-RO`
    PUNJABI    = `pa-IN`
    MALAY      = `ms-MY`
    BENGALI    = `bn-IN`
    GREEK      = `el-GR`
    KANNADA    = `kn-IN`
    FINNISH    = `fi-FI`
)
```

```go
const (
    TIMEOUT_TIMER_TYPE  = "timeout"
    INTERVAL_TIMER_TYPE = "interval"
)
```

```go
const (
    MS_TIMEOUT_TYPE   = "ms"
    SECS_TIMEOUT_TYPE = "secs"
    MINS_TIMEOUT_TYPE = "mins"
    HRS_TIMEOUT_TYPE  = "hrs"
)
```

```go
const (
    DEVICE_INFO_QUERY_NAME             = "name"
    DEVICE_INFO_QUERY_ID               = "id"
    DEVICE_INFO_QUERY_ADDRESS          = "address"
    DEVICE_INFO_QUERY_LATLONG          = "latlong"
    DEVICE_INFO_QUERY_INDOOR_LOCATION  = "indoor_location"
    DEVICE_INFO_QUERY_BATTERY          = "battery"
    DEVICE_INFO_QUERY_TYPE             = "type"
    DEVICE_INFO_QUERY_USERNAME         = "username"
    DEVICE_INFO_QUERY_LOCATION_ENABLED = "location_enabled"
)
```

```go
const (
    NORMAL   = `normal`
    HIGH     = `high`
    CRITICAL = `critical`
)
```

```go
const (
    DEFAULT = `default`
    SOS     = `sos`
)
```

```go
const (
    LED_RAINBOW = "rainbow"
    LED_ROTATE  = "rotate"
    LED_FLASH   = "flash"
    LED_BREATHE = "breathe"
    LED_STATIC  = "static"
    LED_OFF     = "off"
)
```

```go
const (
    SET_DEVICE_INFO_LABEL            = "label"
    SET_DEVICE_INFO_LOCATION_ENABLED = "location_enabled"
)
```

```go
const (
    DEVICE_MODE_PANIC = "panic"
    DEVICE_MODE_ALARM = "alarm"
    DEVICE_MODE_NONE  = "none"
)
```

## Variables

```go
var DEVICE string = "device"
```

```go
var DEVICE_PATTERN string = "?device="
```

```go
var GROUP string = "group"
```

```go
var ID string = "id"
```

```go
var INTERACTION_URI_ID string = "urn:relay-resource:id:interaction"
```

```go
var INTERACTION_URI_NAME string = "urn:relay-resource:name:interaction"
```

```go
var NAME string = "name"
```

```go
var ROOT string = "relay-resource"
```

```go
var SCHEME string = "urn"
```

```go
var auth_hostname string = "auth.relaygo.com"
```

```go
var eventRegex = regexp.MustCompile(`^wf_api_(.+)_event$`)
```

```go
var responseRegex = regexp.MustCompile(`^wf_api_(.+)_response$`)
```

```go
var serverHostname string = "all-main-pro-ibot.relaysvr.com"
```

boolean variable used to keep track of whether or not streaming is complete on the device.  Mainly used for the functions SayAndWait and PlayAndWait, which require streaming to complete on the device before continuing through the workflow.

```go
var streamingComplete bool
```

```go
var upgrader = websocket.Upgrader{
    ReadBufferSize:  1024,
    WriteBufferSize: 1024,
}
```

```go
var version string = "relay-sdk-go/2.0.0"
```

```go
var workflowMap map[string]func(api RelayApi) = make(map[string]func(api RelayApi))
```

## func AddWorkflow

```go
func AddWorkflow(workflowName string, fn func(api RelayApi))
```

## func DeviceId

```go
func DeviceId(id string) string
```

## func DeviceName

```go
func DeviceName(name string) string
```

## func GroupId

```go
func GroupId(id string) string
```

## func GroupMember

```go
func GroupMember(group string, device string) string
```

## func GroupName

```go
func GroupName(name string) string
```

## func InitializeRelaySdk

```go
func InitializeRelaySdk(port string)
```

this should return an interface that has a workflow\(\) function that they can pass their workflow implementations to

## func IsInteractionUri

```go
func IsInteractionUri(uri string) bool
```

## func IsRelayUri

```go
func IsRelayUri(uri string) bool
```

## func ParseDeviceId

```go
func ParseDeviceId(uri string) string
```

## func ParseDeviceName

```go
func ParseDeviceName(uri string) string
```

## func ParseGroupId

```go
func ParseGroupId(uri string) string
```

## func ParseGroupName

```go
func ParseGroupName(uri string) string
```

## func construct

```go
func construct(resourceType string, idtype string, idOrName string) string
```

## func convert

```go
func convert(arr []interface{}) string
```

## func handleWs

```go
func handleWs(w http.ResponseWriter, r *http.Request)
```

## func makeId

```go
func makeId() string
```

## func makeTargetMap

```go
func makeTargetMap(sourceUri string) map[string][]string
```

## func parseMessage

```go
func parseMessage(msg []byte) (map[string]interface{}, Event, string)
```

## func startWorkflow

```go
func startWorkflow(wfInst *workflowInstance, workflowName string)
```

## type AnswerResponse

```go
type AnswerResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type ButtonEvent

```go
type ButtonEvent struct {
    _type     string `json:"_type"`
    SourceUri string `json:"source_uri"`
    Button    string `json:"button"` // "action", "channel"
    Taps      string `json:"taps"`   // "single", "double", "triple", "long"
}
```

## type Call

Call represents an active request

```go
type Call struct {
    Req          interface{}
    Res          interface{}
    EventWrapper EventWrapper
    Done         chan bool
    Error        error
}
```

## type ClearTimerResponse

```go
type ClearTimerResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type CreateIncidentResponse

```go
type CreateIncidentResponse struct {
    _id        string `json:"_id"`
    _type      string `json:"_type"`
    IncidentId string `json:"incident_id"`
}
```

## type DeviceInfoQuery

```go
type DeviceInfoQuery string
```

## type DeviceMode

```go
type DeviceMode string
```

## type DevicePowerOffResponse

```go
type DevicePowerOffResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type EndInteractionResponse

```go
type EndInteractionResponse struct {
    _type     string `json:"_type"`
    _id       string `json:"_id"`
    SourceUri string `json:"source_uri"`
}
```

## type Event

```go
type Event string
```

## type EventWrapper

```go
type EventWrapper struct {
    ParsedMsg map[string]interface{}
    Msg       []byte
    EventName Event
}
```

## type GetDeviceInfoResponse

```go
type GetDeviceInfoResponse struct {
    _type           string    `json:"_type"`
    _id             string    `json:"_id"`
    Name            string    `json:"name"`
    Id              string    `json:"id"`
    Address         string    `json:"address"`
    LatLong         []float64 `json:"latlong"`
    IndoorLocation  string    `json:"indoor_location"`
    Battery         uint64    `json:"battery"`
    Type            string    `json:"type"`
    Username        string    `json:"username"`
    LocationEnabled bool      `json:"location_enabled"`
}
```

## type GetVarResponse

```go
type GetVarResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
    Value string `json:"value"`
}
```

## type GroupQueryResponse

```go
type GroupQueryResponse struct {
    _id        string   `json:"_id"`
    _type      string   `json:"_type"`
    MemberUris []string `json:"member_uris"`
    IsMember   bool     `json:"is_member"`
}
```

## type HangupCallResponse

```go
type HangupCallResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type InboxCountResponse

```go
type InboxCountResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
    Count string `json:"count"`
}
```

## type InteractionLifecycleEvent

```go
type InteractionLifecycleEvent struct {
    _type         string `json:"_type"`
    SourceUri     string `json:"source_uri"`
    LifecycleType string `json:"type"` // started, resumed
}
```

## type Language

```go
type Language string
```

## type LedColors

```go
type LedColors struct {
    Ring  string `json:"ring,omitempty"`
    Led1  string `json:"1,omitempty"`
    Led2  string `json:"2,omitempty"`
    Led3  string `json:"3,omitempty"`
    Led4  string `json:"4,omitempty"`
    Led5  string `json:"5,omitempty"`
    Led6  string `json:"6,omitempty"`
    Led7  string `json:"7,omitempty"`
    Led8  string `json:"8,omitempty"`
    Led9  string `json:"9,omitempty"`
    Led10 string `json:"10,omitempty"`
    Led11 string `json:"11,omitempty"`
    Led12 string `json:"12,omitempty"`
    Led13 string `json:"13,omitempty"`
    Led14 string `json:"14,omitempty"`
    Led15 string `json:"15,omitempty"`
    Led16 string `json:"16,omitempty"`
}
```

### func setLedColors

```go
func setLedColors(index string, color string) LedColors
```

## type LedEffect

```go
type LedEffect string
```

## type LedInfo

```go
type LedInfo struct {
    Rotations      int64     `json:"rotations,omitempty"`
    Count          int64     `json:"count,omitempty"`
    Duration       uint64    `json:"duration,omitempty"`
    RepeatDelay    uint64    `json:"repeat_delay,omitempty"`
    PatternRepeats uint64    `json:"pattern_repeats,omitempty"`
    Colors         LedColors `json:"colors,omitempty"`
}
```

## type ListenResponse

```go
type ListenResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type LogAnalyticsEventResponse

```go
type LogAnalyticsEventResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type MessageType

```go
type MessageType string
```

## type NotificationOptions

```go
type NotificationOptions struct {
    priority NotificationPriority
    title    string
    body     string
    sound    NotificationSound
}
```

## type NotificationPriority

```go
type NotificationPriority string
```

## type NotificationSound

```go
type NotificationSound string
```

## type PlaceCallResponse

```go
type PlaceCallResponse struct {
    _id     string `json:"_id"`
    _type   string `json:"_type"`
    call_id string `json:"call_id"`
}
```

## type PlayInboxMessagesResponse

```go
type PlayInboxMessagesResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type PlayResponse

```go
type PlayResponse struct {
    _type         string `json:"_type"`
    _id           string `json:"_id"`
    CorrelationId string `json:"id"`
}
```

## type PromptEvent

```go
type PromptEvent struct {
    _type      string `json:"_type"`
    SourceUri  string `json:"source_uri"`
    PromptType string `json:"type"` // started, stopped, resumed
}
```

## type RelayApi

```go
type RelayApi interface {
    // assigning callbacks
    OnStart(fn func(startEvent StartEvent))
    OnInteractionLifecycle(func(interactionLifecycleEvent InteractionLifecycleEvent))
    OnPrompt(func(promptEvent PromptEvent)) // seperate into start and stop?
    OnTimerFired(func(timerFiredEvent TimerFiredEvent))
    OnButton(func(buttonEvent ButtonEvent))
    OnTimer(fn func(timerEvent TimerEvent))
    OnSpeech(fn func(speechEvent SpeechEvent))

    // api
    GetSourceUri(startEvent StartEvent) string
    StartInteraction(sourceUri string, name string) StartInteractionResponse
    EndInteraction(sourceUri string, name string) EndInteractionResponse
    SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse
    ClearTimer(name string) ClearTimerResponse
    StartTimer(timeout int) StartTimerResponse // need to test timers
    CreateIncident(originator string, itype string) CreateIncidentResponse
    ResolveIncident(incidentId string, reason string) ResolveIncidentResponse
    Say(sourceUri string, text string, lang Language) SayResponse
    Alert(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse
    SayAndWait(sourceUri string, text string, lang Language) SayResponse
    Listen(sourceUri string, phrases []string, transcribe bool, alt_lang string, timeout int) string
    Translate(sourceUri string, text string, from Language, to Language) string
    LogMessage(message string, category string) LogAnalyticsEventResponse
    LogUserMessage(message string, sourceUri string, category string) LogAnalyticsEventResponse
    SetVar(name string, value string) SetVarResponse
    UnsetVar(name string) UnsetVarResponse
    GetVar(name string, defaultValue string) string
    GetNumberVar(name string, defaultValue int) int
    Play(sourceUri string, filename string) string
    PlayAndWait(sourceUri string, filename string) string
    StopPlayback(sourceUri string, ids []string) StopPlaybackResponse
    GetUnreadInboxSize(sourceUri string) int
    PlayUnreadInboxMessages(sourceUri string) PlayInboxMessagesResponse
    SwitchLedOn(sourceUri string, ledIndex int, color string) SetLedResponse
    SwitchAllLedOn(sourceUri string, color string) SetLedResponse
    SwitchAllLedOff(sourceUri string) SetLedResponse
    Rainbow(sourceUri string, rotations int64) SetLedResponse
    Rotate(sourceUri string, color string, rotations int64) SetLedResponse
    Flash(sourceUri string, color string, count int64) SetLedResponse
    Breathe(sourceUri string, color string, count int64) SetLedResponse
    SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse
    Vibrate(sourceUri string, pattern []uint64) VibrateResponse
    Broadcast(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse
    GetDeviceName(sourceUri string, refresh bool) string
    GetDeviceId(sourceUri string, refresh bool) string
    GetDeviceAddress(sourceUri string, refresh bool) string
    GetDeviceLocation(sourceUri string, refresh bool) string
    GetDeviceLatLong(sourceUri string, refresh bool) []float64
    IsGroupMember(groupNameUri string, potentialMemberUri string) bool
    GetGroupMembers(groupUri string) []string
    GetDeviceCoordinates(sourceUri string, refresh bool) []float64
    GetDeviceIndoorLocation(sourceUri string, refresh bool) string
    GetDeviceBattery(sourceUri string, refresh bool) uint64
    GetDeviceType(sourceUri string, refresh bool) string
    GetDeviceUsername(sourceUri string, refresh bool) string
    GetDeviceLocationEnabled(sourceUri string, refresh bool) bool
    SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse
    EnableHomeChannel(sourceUri string) SetHomeChannelStateResponse
    DisableHomeChannel(sourceUri string) SetHomeChannelStateResponse
    // SetDeviceChannel(sourceUri string, channel string) SetDeviceInfoResponse
    EnableLocation(sourceUri string) SetDeviceInfoResponse
    DisableLocation(sourceUri string) SetDeviceInfoResponse
    SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse
    SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse

    SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse

    // RestartDevice(sourceUri string) DevicePowerOffResponse
    // PowerDownDevice(sourceUri string) DevicePowerOffResponse
    PlaceCall(targetUri string, uri string) PlaceCallResponse
    AnswerCall(sourceUri string, callId string) AnswerResponse
    HangupCall(targetUri string, callId string) HangupCallResponse
    Terminate()
    FetchDevice(accessToken string, refreshToken string, clientId string, subscriberId string, userId string) map[string]string
    TriggerWorkflow(accessToken string, refreshToken string, clientId string, workflowId string, subscriberId string, userId string, targets []string, actionArgs map[string]string) map[string]string
}
```

## type ResolveIncidentResponse

```go
type ResolveIncidentResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type SayResponse

```go
type SayResponse struct {
    _type         string `json:"_type"`
    _id           string `json:"_id"`
    CorrelationId string `json:"id"`
}
```

## type SendNotificationResponse

```go
type SendNotificationResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type SetChannelResponse

```go
type SetChannelResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetDeviceInfoResponse

```go
type SetDeviceInfoResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetDeviceInfoType

```go
type SetDeviceInfoType string
```

## type SetDeviceModeResponse

```go
type SetDeviceModeResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetHomeChannelStateResponse

```go
type SetHomeChannelStateResponse struct {
    _type string `json:"_type"`
    Id    string `json:"_id"`
}
```

## type SetLedResponse

```go
type SetLedResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetTimerResponse

```go
type SetTimerResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetUserProfileResponse

```go
type SetUserProfileResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type SetVarResponse

```go
type SetVarResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
    Name  string `json:"name"`
    IType string `json:"type"`
    Value string `json:"value"`
}
```

## type SpeechEvent

```go
type SpeechEvent struct {
    _id       string `json:"_id"`
    _type     string `json:"_type"`
    SourceUri string `json:"source_uri"`
    ReuqestId string `json:"request_id"`
    Text      string `json:"text"`
    Audio     string `json:"audio"`
    Lang      string `json:"lang"`
}
```

## type StartEvent

```go
type StartEvent struct {
    _type   string `json:"_type"`
    Trigger Trigger
}
```

## type StartInteractionResponse

```go
type StartInteractionResponse struct {
    _type     string `json:"_type"`
    _id       string `json:"_id"`
    SourceUri string `json:"source_uri"`
}
```

## type StartTimerResponse

```go
type StartTimerResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type StopEvent

```go
type StopEvent struct {
    _type  string `json:"_type"`
    Reason string `json:"reason"`
}
```

## type StopPlaybackResponse

```go
type StopPlaybackResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type StopTimerResponse

```go
type StopTimerResponse struct {
    _id   string `json"_id"`
    _type string `json:"_type"`
}
```

## type TimeoutType

```go
type TimeoutType string
```

## type TimerEvent

```go
type TimerEvent struct {
    _type string `json:"_type"`
}
```

## type TimerFiredEvent

```go
type TimerFiredEvent struct {
    _type string `json:"_type"`
    Name  string `json:"name"`
}
```

## type TimerType

```go
type TimerType string
```

## type TranslateResponse

```go
type TranslateResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
    Text  string `json:"text"`
}
```

## type Trigger

```go
type Trigger struct {
    Type TriggerType
    Args TriggerArgs
}
```

## type TriggerArgs

```go
type TriggerArgs struct {
    Phrase    string `json:"phrase"`
    SourceUri string `json:"source_uri"`
}
```

## type TriggerType

```go
type TriggerType string
```

## type UnsetVarResponse

```go
type UnsetVarResponse struct {
    _id   string `json:"_id"`
    _type string `json:"_type"`
}
```

## type VibrateResponse

```go
type VibrateResponse struct {
    _type string `json:"_type"`
    _id   string `json:"_id"`
}
```

## type answerRequest

```go
type answerRequest struct {
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Type   string              `json:"_type"`
    CallId string              `json:"call_id"`
}
```

## type clearTimerRequest

```go
type clearTimerRequest struct {
    Type string `json:"_type"`
    Id   string `json:"_id"`
    Name string `json:"name"`
}
```

## type createIncidentRequest

```go
type createIncidentRequest struct {
    Id            string `json:"_id"`
    Type          string `json:"_type"`
    IncidentType  string `json:"type"`
    OriginatorUri string `json:"originator_uri"`
}
```

## type devicePowerOffRequest

```go
type devicePowerOffRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Restart bool                `json:"restart"`
}
```

## type endInteractionRequest

```go
type endInteractionRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Targets map[string][]string `json:"_target"`
    Name    string              `json:"name"`
}
```

## type getDeviceInfoRequest

```go
type getDeviceInfoRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Query   DeviceInfoQuery     `json:"query"`
    Refresh bool                `json:"refresh"`
}
```

## type getVarRequest

```go
type getVarRequest struct {
    Id   string `json:"_id"`
    Type string `json:"_type"`
    Name string `json:"name"`
}
```

## type groupQueryRequest

```go
type groupQueryRequest struct {
    Id       string `json:"_id"`
    Type     string `json:"_type"`
    GroupUri string `json:"group_uri"`
    Query    string `json:"query"`
}
```

## type hangupCallRequest

```go
type hangupCallRequest struct {
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Type   string              `json:"_type"`
    CallId string              `json:"call_id"`
}
```

## type inboxCountRequest

```go
type inboxCountRequest struct {
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Type   string              `json:"_type"`
}
```

## type listenRequest

```go
type listenRequest struct {
    Id         string              `json:"_id"`
    Target     map[string][]string `json:"_target"`
    Type       string              `json:"_type"`
    ReqestId   string              `json:"request_id"`
    Phrases    []string            `json:"phrases"`
    Transcribe bool                `json:"transcribe"`
    Timeout    int                 `json:"timeout"`
    AltLang    string              `json:"alt_lang"`
}
```

## type logAnalyticsEventRequest

```go
type logAnalyticsEventRequest struct {
    Id          string `json:"_id"`
    Type        string `json:"_type"`
    Content     string `json:"content"`
    ContentType string `json:"content_type"`
    Category    string `json:"category"`
    DeviceUri   string `json":"device_uri,omitempty"`
}
```

## type placeCallRequest

```go
type placeCallRequest struct {
    Id     string              `json:"_id"`
    Type   string              `json:"_type"`
    Target map[string][]string `json:"_target"`
    Uri    string              `json:"uri"`
}
```

## type playInboxMessagesRequest

```go
type playInboxMessagesRequest struct {
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Type   string              `json:"_type"`
}
```

## type playRequest

```go
type playRequest struct {
    Type     string              `json:"_type"`
    Id       string              `json:"_id"`
    Target   map[string][]string `json:"_target"`
    Filename string              `json:"filename"`
}
```

## type resolveIncidentRequest

```go
type resolveIncidentRequest struct {
    Id         string `json:"_id"`
    Type       string `json:"_type"`
    IncidentId string `json:"incident_id"`
    Reason     string `json:"reason"`
}
```

## type sayRequest

```go
type sayRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Text   string              `json:"text"`
    Lang   Language            `json:"lang"`
}
```

## type sendNotificationRequest

```go
type sendNotificationRequest struct {
    Type        string              `json:"_type"`
    Id          string              `json:"_id"`
    Target      map[string][]string `json:"_target"`
    Originator  string              `json:"originator"`
    IType       string              `json:"type"`
    Name        string              `json:"name"`
    Text        string              `json:"text"`
    ITarget     map[string][]string `json:"target"`
    PushOptions NotificationOptions `json:"push_opts"`
}
```

## type setChannelRequest

```go
type setChannelRequest struct {
    Type               string              `json:"_type"`
    Id                 string              `json:"_id"`
    Target             map[string][]string `json:"_target"`
    ChannelName        string              `json:"channel_name"`
    SuppressTTS        bool                `json:"suppress_tts"`
    DisableHomeChannel bool                `json:"disable_home_channel"`
}
```

## type setDeviceInfoRequest

```go
type setDeviceInfoRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Field  SetDeviceInfoType   `json:"field"`
    Value  string              `json:"value"`
}
```

## type setDeviceModeRequest

```go
type setDeviceModeRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Mode   DeviceMode          `json:"mode"`
}
```

## type setHomeChannelStateRequest

```go
type setHomeChannelStateRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Enabled bool                `json:"enabled"`
}
```

## type setLedRequest

```go
type setLedRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Effect LedEffect           `json:"effect"`
    Args   LedInfo             `json:"args"`
}
```

## type setTimerRequest

```go
type setTimerRequest struct {
    Type        string      `json:"_type"`
    Id          string      `json:"_id"`
    TimerType   TimerType   `json:"type"`
    Name        string      `json:"name"`
    Timeout     uint64      `json:"timeout"`
    TimeoutType TimeoutType `json:"timeout_type"`
}
```

## type setUserProfileRequest

```go
type setUserProfileRequest struct {
    Type     string              `json:"_type"`
    Id       string              `json:"_id"`
    Target   map[string][]string `json:"_target"`
    Username string              `json:"username"`
    Force    bool                `json:"force"`
}
```

## type setVarRequest

```go
type setVarRequest struct {
    Id    string `json:"_id"`
    Type  string `json:"_type"`
    Name  string `json:"name"`
    Value string `json:"value"`
}
```

## type startInteractionRequest

```go
type startInteractionRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Targets map[string][]string `json:"_target"`
    Name    string              `json:"name"`
}
```

## type startTimerRequest

```go
type startTimerRequest struct {
    Id      string `json:"_id"`
    Type    string `json:"_type"`
    Timeout int    `json:"timeout"`
}
```

## type stopPlaybackRequest

```go
type stopPlaybackRequest struct {
    Type   string              `json:"_type"`
    Id     string              `json:"_id"`
    Target map[string][]string `json:"_target"`
    Ids    []string            `json:"ids"`
}
```

## type stopTimerRequest

```go
type stopTimerRequest struct {
    Id   string `json:"_id"`
    Type string `json:"_type"`
}
```

## type terminateRequest

```go
type terminateRequest struct {
    Type string `json:"_type"`
    Id   string `json:"_id"`
}
```

## type translateRequest

```go
type translateRequest struct {
    Id       string   `json:"_id"`
    Type     string   `json:"_type"`
    Text     string   `json:"text"`
    FromLang Language `json:"from_lang"`
    ToLang   Language `json:"to_lang"`
}
```

## type unsetVarRequest

```go
type unsetVarRequest struct {
    Id   string `json:"_id"`
    Type string `json:"_type"`
    Name string `json:"name"`
}
```

## type vibrateRequest

```go
type vibrateRequest struct {
    Type    string              `json:"_type"`
    Id      string              `json:"_id"`
    Target  map[string][]string `json:"_target"`
    Pattern []uint64            `json:"pattern"`
}
```

## type workflowInstance

This struct implements RelayApi below

```go
type workflowInstance struct {
    WebsocketConnection *websocket.Conn
    Mutex               sync.Mutex       // no initialization, zero value is unlocked mutex. this must not be copied, always pass workflowInstance by pointer
    Pending             map[string]*Call // map of request ids to the call struct for response pairing
    WorkflowFn          func(api RelayApi)

    EventChannel chan EventWrapper
    StopReason   string

    // stores callback functions for each event type
    OnStartHandler                func(startEvent StartEvent)
    OnInteractionLifecycleHandler func(interactionLifecycleEvent InteractionLifecycleEvent)
    OnPromptHandler               func(promptEvent PromptEvent)
    OnButtonHandler               func(buttonEvent ButtonEvent)
    OnTimerFiredHandler           func(timerFiredEvent TimerFiredEvent)
    OnTimerHandler                func(timerEvent TimerEvent)
    OnSpeechHandler               func(speechEvent SpeechEvent)
}
```

### func \(\*workflowInstance\) Alert

```go
func (wfInst *workflowInstance) Alert(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse
```

### func \(\*workflowInstance\) AnswerCall

```go
func (wfInst *workflowInstance) AnswerCall(sourceUri string, callId string) AnswerResponse
```

### func \(\*workflowInstance\) Breathe

```go
func (wfInst *workflowInstance) Breathe(sourceUri string, color string, count int64) SetLedResponse
```

### func \(\*workflowInstance\) Broadcast

```go
func (wfInst *workflowInstance) Broadcast(target string, originator string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse
```

### func \(\*workflowInstance\) CancelAlert

```go
func (wfInst *workflowInstance) CancelAlert(target string, name string) SendNotificationResponse
```

### func \(\*workflowInstance\) CancelBroadcast

```go
func (wfInst *workflowInstance) CancelBroadcast(target string, name string) SendNotificationResponse
```

### func \(\*workflowInstance\) ClearTimer

```go
func (wfInst *workflowInstance) ClearTimer(name string) ClearTimerResponse
```

### func \(\*workflowInstance\) CreateIncident

```go
func (wfInst *workflowInstance) CreateIncident(originator string, itype string) CreateIncidentResponse
```

### func \(\*workflowInstance\) DisableHomeChannel

```go
func (wfInst *workflowInstance) DisableHomeChannel(sourceUri string) SetHomeChannelStateResponse
```

### func \(\*workflowInstance\) DisableLocation

```go
func (wfInst *workflowInstance) DisableLocation(sourceUri string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) EnableHomeChannel

```go
func (wfInst *workflowInstance) EnableHomeChannel(sourceUri string) SetHomeChannelStateResponse
```

### func \(\*workflowInstance\) EnableLocation

```go
func (wfInst *workflowInstance) EnableLocation(sourceUri string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) EndInteraction

```go
func (wfInst *workflowInstance) EndInteraction(sourceUri string, name string) EndInteractionResponse
```

### func \(\*workflowInstance\) FetchDevice

```go
func (wfInst *workflowInstance) FetchDevice(accessToken string, refreshToken string, clientId string, subscriberId string, userId string) map[string]string
```

### func \(\*workflowInstance\) Flash

```go
func (wfInst *workflowInstance) Flash(sourceUri string, color string, count int64) SetLedResponse
```

### func \(\*workflowInstance\) GetDeviceAddress

```go
func (wfInst *workflowInstance) GetDeviceAddress(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceBattery

```go
func (wfInst *workflowInstance) GetDeviceBattery(sourceUri string, refresh bool) uint64
```

### func \(\*workflowInstance\) GetDeviceCoordinates

```go
func (wfInst *workflowInstance) GetDeviceCoordinates(sourceUri string, refresh bool) []float64
```

### func \(\*workflowInstance\) GetDeviceId

```go
func (wfInst *workflowInstance) GetDeviceId(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceIndoorLocation

```go
func (wfInst *workflowInstance) GetDeviceIndoorLocation(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceLatLong

```go
func (wfInst *workflowInstance) GetDeviceLatLong(sourceUri string, refresh bool) []float64
```

### func \(\*workflowInstance\) GetDeviceLocation

```go
func (wfInst *workflowInstance) GetDeviceLocation(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceLocationEnabled

```go
func (wfInst *workflowInstance) GetDeviceLocationEnabled(sourceUri string, refresh bool) bool
```

### func \(\*workflowInstance\) GetDeviceName

```go
func (wfInst *workflowInstance) GetDeviceName(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceType

```go
func (wfInst *workflowInstance) GetDeviceType(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetDeviceUsername

```go
func (wfInst *workflowInstance) GetDeviceUsername(sourceUri string, refresh bool) string
```

### func \(\*workflowInstance\) GetGroupMembers

```go
func (wfInst *workflowInstance) GetGroupMembers(groupUri string) []string
```

### func \(\*workflowInstance\) GetNumberVar

```go
func (wfInst *workflowInstance) GetNumberVar(name string, defaultValue int) int
```

### func \(\*workflowInstance\) GetSourceUri

```go
func (wfInst *workflowInstance) GetSourceUri(startEvent StartEvent) string
```

### func \(\*workflowInstance\) GetUnreadInboxSize

```go
func (wfInst *workflowInstance) GetUnreadInboxSize(sourceUri string) int
```

### func \(\*workflowInstance\) GetVar

```go
func (wfInst *workflowInstance) GetVar(name string, defaultValue string) string
```

### func \(\*workflowInstance\) HangupCall

```go
func (wfInst *workflowInstance) HangupCall(targetUri string, callId string) HangupCallResponse
```

### func \(\*workflowInstance\) IsGroupMember

```go
func (wfInst *workflowInstance) IsGroupMember(groupNameUri string, potentialMemberUri string) bool
```

### func \(\*workflowInstance\) Listen

```go
func (wfInst *workflowInstance) Listen(sourceUri string, phrases []string, transcribe bool, alt_lang string, timeout int) string
```

### func \(\*workflowInstance\) LogMessage

```go
func (wfInst *workflowInstance) LogMessage(message string, category string) LogAnalyticsEventResponse
```

### func \(\*workflowInstance\) LogUserMessage

```go
func (wfInst *workflowInstance) LogUserMessage(message string, sourceUri string, category string) LogAnalyticsEventResponse
```

### func \(\*workflowInstance\) OnButton

```go
func (wfInst *workflowInstance) OnButton(fn func(buttonEvent ButtonEvent))
```

### func \(\*workflowInstance\) OnInteractionLifecycle

```go
func (wfInst *workflowInstance) OnInteractionLifecycle(fn func(interactionLifecycleEvent InteractionLifecycleEvent))
```

### func \(\*workflowInstance\) OnPrompt

```go
func (wfInst *workflowInstance) OnPrompt(fn func(promptEvent PromptEvent))
```

### func \(\*workflowInstance\) OnSpeech

```go
func (wfInst *workflowInstance) OnSpeech(fn func(speechEvent SpeechEvent))
```

### func \(\*workflowInstance\) OnStart

```go
func (wfInst *workflowInstance) OnStart(fn func(startEvent StartEvent))
```

### func \(\*workflowInstance\) OnTimer

```go
func (wfInst *workflowInstance) OnTimer(fn func(timerEvent TimerEvent))
```

### func \(\*workflowInstance\) OnTimerFired

```go
func (wfInst *workflowInstance) OnTimerFired(fn func(timerFiredEvent TimerFiredEvent))
```

### func \(\*workflowInstance\) PlaceCall

```go
func (wfInst *workflowInstance) PlaceCall(targetUri string, uri string) PlaceCallResponse
```

### func \(\*workflowInstance\) Play

```go
func (wfInst *workflowInstance) Play(sourceUri string, filename string) string
```

### func \(\*workflowInstance\) PlayAndWait

```go
func (wfInst *workflowInstance) PlayAndWait(sourceUri string, filename string) string
```

### func \(\*workflowInstance\) PlayUnreadInboxMessages

```go
func (wfInst *workflowInstance) PlayUnreadInboxMessages(sourceUri string) PlayInboxMessagesResponse
```

### func \(\*workflowInstance\) Rainbow

```go
func (wfInst *workflowInstance) Rainbow(sourceUri string, rotations int64) SetLedResponse
```

### func \(\*workflowInstance\) ResolveIncident

```go
func (wfInst *workflowInstance) ResolveIncident(incidentId string, reason string) ResolveIncidentResponse
```

### func \(\*workflowInstance\) Rotate

```go
func (wfInst *workflowInstance) Rotate(sourceUri string, color string, rotations int64) SetLedResponse
```

### func \(\*workflowInstance\) Say

```go
func (wfInst *workflowInstance) Say(sourceUri string, text string, lang Language) SayResponse
```

### func \(\*workflowInstance\) SayAndWait

```go
func (wfInst *workflowInstance) SayAndWait(sourceUri string, text string, lang Language) SayResponse
```

### func \(\*workflowInstance\) SetChannel

```go
func (wfInst *workflowInstance) SetChannel(sourceUri string, channelName string, suppressTTS bool, disableHomeChannel bool) SetChannelResponse
```

### func \(\*workflowInstance\) SetDeviceMode

```go
func (wfInst *workflowInstance) SetDeviceMode(sourceUri string, mode DeviceMode) SetDeviceModeResponse
```

### func \(\*workflowInstance\) SetDeviceName

```go
func (wfInst *workflowInstance) SetDeviceName(sourceUri string, name string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) SetLeds

```go
func (wfInst *workflowInstance) SetLeds(sourceUri string, effect LedEffect, args LedInfo) SetLedResponse
```

### func \(\*workflowInstance\) SetTimer

```go
func (wfInst *workflowInstance) SetTimer(timerType TimerType, name string, timeout uint64, timeoutType TimeoutType) SetTimerResponse
```

### func \(\*workflowInstance\) SetUserProfile

```go
func (wfInst *workflowInstance) SetUserProfile(sourceUri string, username string, force bool) SetUserProfileResponse
```

### func \(\*workflowInstance\) SetVar

```go
func (wfInst *workflowInstance) SetVar(name string, value string) SetVarResponse
```

### func \(\*workflowInstance\) StartInteraction

```go
func (wfInst *workflowInstance) StartInteraction(sourceUri string, name string) StartInteractionResponse
```

Starts an interaction with the user.  Triggers an INTERACTION\_STARTED event and allows the user to interact with the device via functions that require an interaction URN. target \(target\): the device that you would like to start an interaction with. name \(str\): a name for your interaction. options \(optional\): can be color, home channel, or input types. Defaults to None.

### func \(\*workflowInstance\) StartTimer

```go
func (wfInst *workflowInstance) StartTimer(timeout int) StartTimerResponse
```

### func \(\*workflowInstance\) StopPlayback

```go
func (wfInst *workflowInstance) StopPlayback(sourceUri string, ids []string) StopPlaybackResponse
```

### func \(\*workflowInstance\) StopTimer

```go
func (wfInst *workflowInstance) StopTimer() StopTimerResponse
```

### func \(\*workflowInstance\) SwitchAllLedOff

```go
func (wfInst *workflowInstance) SwitchAllLedOff(sourceUri string) SetLedResponse
```

### func \(\*workflowInstance\) SwitchAllLedOn

```go
func (wfInst *workflowInstance) SwitchAllLedOn(sourceUri string, color string) SetLedResponse
```

### func \(\*workflowInstance\) SwitchLedOn

```go
func (wfInst *workflowInstance) SwitchLedOn(sourceUri string, led int, color string) SetLedResponse
```

### func \(\*workflowInstance\) Terminate

```go
func (wfInst *workflowInstance) Terminate()
```

### func \(\*workflowInstance\) Translate

```go
func (wfInst *workflowInstance) Translate(sourceUri string, text string, from Language, to Language) string
```

### func \(\*workflowInstance\) TriggerWorkflow

```go
func (wfInst *workflowInstance) TriggerWorkflow(accessToken string, refreshToken string, clientId string, workflowId string, subscriberId string, userId string, targets []string, actionArgs map[string]string) map[string]string
```

### func \(\*workflowInstance\) UnsetVar

```go
func (wfInst *workflowInstance) UnsetVar(name string) UnsetVarResponse
```

### func \(\*workflowInstance\) Vibrate

```go
func (wfInst *workflowInstance) Vibrate(sourceUri string, pattern []uint64) VibrateResponse
```

### func \(\*workflowInstance\) getDeviceInfo

```go
func (wfInst *workflowInstance) getDeviceInfo(sourceUri string, query DeviceInfoQuery, refresh bool) GetDeviceInfoResponse
```

### func \(\*workflowInstance\) handleEvent

```go
func (wfInst *workflowInstance) handleEvent(eventWrapper EventWrapper) error
```

### func \(\*workflowInstance\) handleResponse

```go
func (wfInst *workflowInstance) handleResponse(eventWrapper EventWrapper) error
```

### func \(\*workflowInstance\) receiveWs

```go
func (wfInst *workflowInstance) receiveWs()
```

### func \(\*workflowInstance\) sendAndReceiveRequest

```go
func (wfInst *workflowInstance) sendAndReceiveRequest(msg interface{}, id string) *Call
```

### func \(\*workflowInstance\) sendAndReceiveRequestWait

```go
func (wfInst *workflowInstance) sendAndReceiveRequestWait(msg interface{}, id string) *Call
```

### func \(\*workflowInstance\) sendNotification

```go
func (wfInst *workflowInstance) sendNotification(target string, originator string, itype string, name string, text string, pushOptions NotificationOptions) SendNotificationResponse
```

### func \(\*workflowInstance\) sendRequest

```go
func (wfInst *workflowInstance) sendRequest(msg interface{})
```

### func \(\*workflowInstance\) setDeviceInfo

```go
func (wfInst *workflowInstance) setDeviceInfo(sourceUri string, field SetDeviceInfoType, value string) SetDeviceInfoResponse
```

### func \(\*workflowInstance\) setHomeChannelState

```go
func (wfInst *workflowInstance) setHomeChannelState(sourceUri string, enabled bool) SetHomeChannelStateResponse
```

### func \(\*workflowInstance\) updateAccessToken

```go
func (wfInst *workflowInstance) updateAccessToken(refreshToken string, clientId string) string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
